#!/usr/bin/env bash

function _trace() {
	echo " [TRACE] $1"
}

function _info() {
	echo " [INFO] $1"
}

# Docker cleanup script: removes all unused data
function main() {

	_trace "Cleaning Docker system…"
	docker system prune -af --volumes

	_trace "Removing unused containers…"
	docker container prune -f

	_trace "Removing unused images…"
	docker image prune -af

	_trace "Removing unused volumes…"
	docker volume prune -f

	_trace "Removing unused networks…"
	docker network prune -f

	_info "Disk usage after cleanup:"
	docker system df
}

main
