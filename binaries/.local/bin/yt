#/usr/bin/env bash

function main() {
	if [ "$#" -eq 0 ] || [ "$#" -gt 2 ]; then
		echo "Usage: yt [-t | --timestamps] youtube-link"
		echo "Use the '-t' flag to get the transcript with timestamps."
		return 1
	fi

	transcript_flag="--transcript"
	if [ "$1" = "-t" ] || [ "$1" = "--timestamps" ]; then
		transcript_flag="--transcript-with-timestamps"
		shift
	fi
	local video_link="$1"
	fabric -y "$video_link" $transcript_flag
}

main "$@"
